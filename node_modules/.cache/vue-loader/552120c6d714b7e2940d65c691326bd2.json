{"remainingRequest":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\拷贝\\案例2\\class3\\day15\\src\\pages\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\拷贝\\案例2\\class3\\day15\\src\\pages\\User.vue","mtime":1583936404678},{"path":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583661023469},{"path":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1583661001014},{"path":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\babel-loader\\lib\\index.js","mtime":1583661145674},{"path":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1583661023469},{"path":"E:\\拷贝\\案例2\\class3\\day15\\node_modules\\vue-loader\\lib\\index.js","mtime":1583661127026}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  export default {\n\tbeforeRouteEnter(to,from,next){\n\t\tlet local=window.localStorage.getItem('user')\n\t\tif(!local){\n\t\t\tnext('/login')\n\t\t\treturn;\n\t\t}\n\t\taxios({\n\t\t\turl:'/api/user'\n\t\t}).then(\n\t\t\tres=>{\n\t\t\t\tif(res.data.err==0){\n\t\t\t\t\tconsole.log('res',res.data)\n\t\t\t\t\tnext(_this=>_this.user=res.data.data)\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tnext('/login')\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t},\n\tname: 'User',\n\tprops: {},\n\tdata() {\n\t  return {\n\t\tuser:{}\n\t  }\n\t},\n\tcomponents: {},\n\tmounted() {},\n\tupdated() {},\n\tmethods: {\n\t  logout(){\n\t\t//发送注销请求\n\t\t// this.$router.push('/login')\n\t\t//删除本地token\n\t\twindow.localStorage.removeItem('user')\n\t\t//发送注销请求\n\t\tthis.$router.push('/login')\n\t  }\n\t}\n  }\n",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  \n  <div class=\"content\">\n    <div class=\"header\">\n      <h2><img :src=\"$baseUrl+user.icon\" alt=\"\"/></h2>\n      <div class=\"user-box\">\n        <a >{{user.nikename}}</a>\n        <a href=\"javascript:;\" @click=\"logout\">注销</a>\n      </div>\n      <ul class=\"clear\">\n        <li>\n          <span>{{user.follow}}</span>\n          <p>关注</p>\n        </li>\n        <li>\n          <span>{{user.fans}}</span>\n          <p class=\"end\">粉丝</p>\n        </li>\n      </ul>\n    </div>\n    <div class=\"docList\">\n      <ul>\n        <li class=\"gk-text\">\n          <i></i>\n          <p>公开博文</p>\n          <b></b>\n          <span>0</span>\n        </li>\n        <li class=\"mm-text\">\n          <i></i>\n          <p>秘密博文</p>\n          <b></b>\n          <span>0</span>\n        </li>\n        <li class=\"cg-text\">\n          <i></i>\n          <p>草稿箱</p>\n          <b></b>\n          <span>0</span>\n        </li>\n        <li class=\"sc-text\">\n          <i></i>\n          <p>收藏夹</p>\n          <b></b>\n          <span>0</span>\n        </li>\n        <li class=\"my_cz\">\n          <i></i>\n          <p>收藏夹</p>\n        </li>\n      </ul>\n    </div>\n  </div>\n  \n</template>\r\n\r\n<script>\r\n  export default {\r\n\tbeforeRouteEnter(to,from,next){\r\n\t\tlet local=window.localStorage.getItem('user')\r\n\t\tif(!local){\r\n\t\t\tnext('/login')\r\n\t\t\treturn;\r\n\t\t}\r\n\t\taxios({\r\n\t\t\turl:'/api/user'\r\n\t\t}).then(\r\n\t\t\tres=>{\r\n\t\t\t\tif(res.data.err==0){\r\n\t\t\t\t\tconsole.log('res',res.data)\r\n\t\t\t\t\tnext(_this=>_this.user=res.data.data)\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnext('/login')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t},\r\n\tname: 'User',\r\n\tprops: {},\r\n\tdata() {\r\n\t  return {\r\n\t\tuser:{}\r\n\t  }\r\n\t},\r\n\tcomponents: {},\r\n\tmounted() {},\r\n\tupdated() {},\r\n\tmethods: {\r\n\t  logout(){\r\n\t\t//发送注销请求\r\n\t\t// this.$router.push('/login')\r\n\t\t//删除本地token\r\n\t\twindow.localStorage.removeItem('user')\r\n\t\t//发送注销请求\r\n\t\tthis.$router.push('/login')\r\n\t  }\r\n\t}\r\n  }\r\n</script>\n\r\n<style scoped>\n  \n\t.content{max-width:6.4rem; margin:0 auto; margin-bottom:0.8rem;}\r\n    .content .header{width:6.4rem;height:2.84rem; background:#9e9a95; padding-top:0.4rem;}\r\n    \r\n    .header h2{width:1.02rem;height:1.02rem; border-radius:50%; margin:0 auto;float:none}\r\n    .header h2>img{width:100%;}\r\n    .header .user-box{width:1.14rem; height:0.5rem;font-size:0.25rem; color:#fff; margin:0 auto; margin-top:0.2rem;}\r\n    .user-box a{color:#fff;}\r\n    .header ul{ margin-top:0.4rem;width:100%;display: flex;justify-content: center;}\r\n    .header ul li{width:100%;height:0.7rem; float:left; color:#fff;width:45%;line-height: 0.7rem;}\r\n    .header span{ text-align:center; display:block; font-size:0.25rem;border:none;width:45%;float: left;}\r\n    .header ul li p{ text-align:left; font-size:0.3rem;height:0.32rem; line-height:0.32rem; border-right:1px solid #fff;color:#333;width:45%;float:left;margin-top: 0.2rem;}\r\n    .header ul li p.end{ border:0;}\r\n    \r\n    .content .docList{width:6.4rem; margin:0 auto; margin-top:0.32rem;}\r\n    .docList ul{ border-top:1px solid #7b7c7c;}\r\n    .docList ul li{ background:#fff;height:0.79rem; border-top:1px solid #bcbbba; border-bottom:1px solid #7b7c7c;}\r\n    .docList ul li span{ border: none;float: right;margin-right: 0.14rem;margin-top: 0.26rem;left: 4.4rem;top: 0;}\r\n    .docList ul li b{width:0.21rem;height:0.24rem; background:url(../assets/img/next_img.png) no-repeat 0 0; background-size:100%; float:right;margin-right:0.34rem; margin-top:0.28rem;}\r\n    \r\n    \r\n    .docList ul .gk-text i{width:0.37rem;height:0.37rem; background:url(../assets/img/gk_text.png) no-repeat 0 0; background-size:100%; float:left; margin-left:0.29rem; margin-top:0.24rem;}\r\n    .gk-text p{ float:left; font-size:0.25rem;margin-left:0.29rem; margin-top:0.25rem;}\r\n    .docList ul .mm-text i{width:0.29rem;height:0.35rem; background:url(../assets/img/mm_text.png) no-repeat 0 0; background-size:100%; float:left; margin-left:0.32rem; margin-top:0.24rem;}\r\n    .mm-text p{ float:left; font-size:0.25rem;margin-left:0.35rem; margin-top:0.25rem;}\r\n    .docList ul .cg-text i{width:0.37rem;height:0.37rem; background:url(../assets/img/cg_text.png) no-repeat 0 0; background-size:100%; float:left; margin-left:0.29rem; margin-top:0.24rem;}\r\n    .cg-text p{ float:left; font-size:0.25rem;margin-left:0.29rem; margin-top:0.25rem;}\r\n    .docList ul .sc-text i{width:0.37rem;height:0.37rem; background:url(../assets/img/sc_text.png) no-repeat 0 0; background-size:100%; float:left; margin-left:0.29rem; margin-top:0.24rem;}\r\n    .sc-text p{ float:left; font-size:0.25rem;margin-left:0.29rem; margin-top:0.25rem;}\r\n    .docList ul .my_cz{ margin-top:0.45rem;}\r\n    .docList ul .my_cz i{width:0.37rem;height:0.37rem; background:url(../assets/img/my_cz.png) no-repeat 0 0; background-size:100%; float:left; margin-left:0.29rem; margin-top:0.24rem;}\r\n    .my_cz p{ float:left; font-size:0.25rem;margin-left:0.29rem; margin-top:0.25rem;}\n</style>\n"]}]}